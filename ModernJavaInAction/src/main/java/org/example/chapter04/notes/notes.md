# 第 4 章 引入流

## 4.3 流与集合

### 4.3.1 只能遍历一次

和迭代器类似，流只能遍历一次。

### 4.3.2 外部迭代与内部迭代

使用内部迭代时，项目可以透明地并行处理，或者以更优化的顺序进行处理，Streams 库的内部迭代可以自动选择一种适合当前硬件的数据表示和并行实现。一旦选择 for-each 这样的外部迭代，基本只能自行管理所有的并行问题。

## 4.4 流操作

### 4.4.1 中间操作

诸如 filter 或 sorted 等中间操作会返回另外一个流，这让多个操作可以连接起来形成一个查询。重要的是，除非流水线上触发一个终端操作，，否则中间操作不会执行任何处理。这是因为中间操作一般都可以合并起来，在终端操作时一次性全部处理。

